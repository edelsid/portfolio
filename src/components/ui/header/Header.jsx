import { useEffect, useState } from "react"
import "./header.css"

export default function header() {
  const [ isDark, setIsDark ] = useState(true);

  const changeMode = () => {
    setIsDark(!isDark);
  }

  useEffect(() => {
    if (!localStorage.getItem('dark')) {
      setIsDark(false);
      document.body.classList.remove("darkmode");
    }
  }, []);

  useEffect(() => {
    if (isDark) {
      document.body.classList.add("darkmode");
      localStorage.setItem("dark", true);
      return;
    }
    document.body.classList.remove("darkmode");
    localStorage.removeItem("dark");
  }, [isDark]);

  return (
    <header className="header">
      <a className="btn btn_standart cv-download btn_themed" href="download/file.pdf" download>
        <div className="cv__highlight"></div>
        <p>Скачать резюме</p>
      </a>
      <button className="icon theme">
        <div className="highlight"></div>
        {isDark ? 
          <svg 
            version="1.0"
            className="icon_sun"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512.000000 512.000000"
            onClick={changeMode}
            preserveAspectRatio="xMidYMid meet">
            <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)"
              fill="#fff" stroke="none">
              <path d="M2483 5099 c-23 -11 -53 -36 -68 -55 -49 -63 -55 -100 -55 -313 0
              -184 2 -199 24 -246 44 -96 137 -150 216 -126 55 16 108 66 136 126 22 47 24
              62 24 246 0 213 -6 249 -55 314 -32 41 -98 75 -146 75 -19 0 -53 -9 -76 -21z"/>
              <path d="M675 4507 c-54 -31 -85 -87 -85 -157 0 -92 29 -137 186 -291 145
              -141 189 -169 268 -169 108 0 186 78 186 186 0 79 -28 123 -169 268 -154 157
              -199 186 -291 186 -39 0 -67 -7 -95 -23z"/>
              <path d="M4245 4506 c-36 -17 -89 -63 -186 -162 -144 -147 -169 -188 -169
              -275 0 -102 79 -179 186 -179 79 0 123 28 268 169 157 154 186 199 186 291 0
              147 -141 224 -285 156z"/>
              <path d="M2440 3964 c-393 -47 -720 -214 -948 -487 -228 -270 -336 -566 -336
              -917 0 -225 44 -423 134 -608 199 -410 568 -692 1020 -778 128 -24 371 -24
              495 -1 334 65 620 228 823 470 228 270 336 566 336 917 0 225 -44 423 -134
              608 -233 481 -696 781 -1230 797 -69 2 -141 1 -160 -1z m395 -418 c177 -52
              306 -128 438 -255 129 -124 216 -271 274 -458 25 -82 27 -100 27 -273 0 -173
              -2 -191 -27 -273 -58 -187 -145 -334 -274 -458 -131 -127 -256 -199 -439 -256
              -83 -25 -101 -27 -274 -27 -173 0 -191 2 -275 28 -354 107 -604 358 -712 711
              -25 84 -27 102 -27 275 0 173 2 191 27 275 55 179 130 307 256 438 117 121
              262 211 420 261 125 40 171 45 341 42 132 -3 168 -8 245 -30z"/>
              <path d="M148 2745 c-85 -31 -148 -110 -148 -185 0 -47 35 -114 75 -145 65
              -49 101 -55 314 -55 196 0 198 0 251 28 30 15 68 44 84 65 28 35 31 46 31 107
              0 61 -3 72 -31 107 -16 21 -54 50 -84 66 -53 27 -54 27 -254 26 -144 0 -212
              -4 -238 -14z"/>
              <path d="M4500 2744 c-189 -82 -184 -301 7 -370 56 -19 406 -19 462 1 88 31
              151 108 151 185 0 77 -63 154 -151 185 -60 21 -419 21 -469 -1z"/>
              <path d="M960 1213 c-62 -22 -312 -266 -346 -338 -68 -144 9 -285 156 -285 92
              0 137 29 291 186 111 113 139 148 152 188 61 180 -73 312 -253 249z"/>
              <path d="M4006 1220 c-64 -20 -116 -95 -116 -168 0 -88 25 -128 169 -276 154
              -157 199 -186 291 -186 108 0 180 72 180 180 0 92 -29 137 -186 291 -113 111
              -148 139 -188 152 -53 18 -104 20 -150 7z"/>
              <path d="M2500 754 c-50 -22 -89 -61 -116 -119 -23 -47 -24 -61 -24 -246 0
              -213 6 -249 55 -314 31 -40 98 -75 145 -75 47 0 114 35 145 75 49 65 55 101
              55 314 0 185 -1 199 -24 246 -28 59 -66 98 -118 119 -46 20 -73 20 -118 0z"/>
            </g>
          </svg> :
          <svg 
            version="1.0"
            className="icon_moon"
            xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 512.000000 512.000000"
            onClick={changeMode}
            preserveAspectRatio="xMidYMid meet">
            <g transform="translate(0.000000,512.000000) scale(0.100000,-0.100000)">
              <path d="M1810 5071 c-381 -125 -719 -327 -1006 -604 -232 -223 -388 -434
              -526 -710 -501 -1007 -310 -2193 483 -2988 502 -504 1199 -781 1899 -756 548
              20 1015 179 1455 496 472 339 815 837 975 1415 35 128 36 147 11 203 -26 57
              -84 87 -156 81 -44 -4 -64 -13 -119 -54 -158 -116 -259 -179 -381 -239 -283
              -138 -527 -195 -839 -195 -515 0 -993 197 -1356 559 -367 367 -565 841 -564
              1356 1 443 131 839 380 1158 63 81 81 134 65 189 -23 76 -93 129 -168 127 -21
              0 -90 -18 -153 -38z m-284 -573 c-78 -187 -133 -397 -156 -598 -14 -123 -14
              -410 0 -525 94 -767 564 -1432 1245 -1764 314 -154 585 -219 940 -228 356 -9
              626 42 964 184 57 24 106 41 109 39 8 -8 -120 -213 -199 -319 -440 -591 -1099
              -927 -1819 -927 -505 0 -948 147 -1354 448 -275 205 -510 490 -669 810 -159
              321 -229 624 -229 987 1 315 45 554 154 830 163 413 462 784 833 1032 71 48
              212 132 222 133 1 0 -18 -46 -41 -102z"/>
            </g>
          </svg>}
        </button>
    </header>
  )
}
